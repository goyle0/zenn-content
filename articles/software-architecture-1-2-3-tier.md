---
title: "プロジェクトの依存関係における1層、2層、3層の違い"
emoji: "🏗️"
type: "tech"
topics: ["アーキテクチャ", "設計", "初心者向け", "システム開発"]
published: true
---

## はじめに

ソフトウェアのアーキテクチャを構成する際に、「層（Layer / Tier）」という概念があります。これは機能や責任を分離するために用いられる設計手法の一つです。

各層は特定の役割を持ち、上位層は下位層の機能を利用する形で設計されます。ここでいう「依存関係」とは、ある層が他の層の機能やサービスに依存していることを指します。

この記事では、1層・2層・3層アーキテクチャの違いについて解説します。

## 1層アーキテクチャ（シングルティア）

### 概要

1層アーキテクチャは、**すべての機能が単一の層またはモジュールに統合されている**設計です。

### 特徴

- データベース、ビジネスロジック、ユーザーインターフェースが同じアプリケーション内で実行される
- 依存関係は内部的であり、外部の層やサービスには依存しない
- 主に非常に単純なアプリケーションやプロトタイプで見られる

### 具体例

```
┌─────────────────────────────────┐
│      単一のアプリケーション        │
│  ┌───────────────────────────┐  │
│  │ ユーザーインターフェース     │  │
│  │ ビジネスロジック            │  │
│  │ データアクセス              │  │
│  └───────────────────────────┘  │
└─────────────────────────────────┘
```

たとえば、スマートフォンの連絡先アプリは3つの機能（UI・ロジック・データ）を持っていますが、すべてが同じ端末上で動作するため、1層アプリケーションと言えます。

## 2層アーキテクチャ（クライアントサーバー）

### 概要

2層アーキテクチャは、**クライアント層とサーバー層の2つの主要な層に分割される**設計です。クライアントサーバーモデルに基づいています。

### 特徴

- クライアント層：通常はユーザーインターフェースとビジネスロジックの一部を担当
- サーバー層：データベースや外部サービスとの通信を担当
- クライアントとサーバー間の通信が重要な役割を果たす
- プレゼンテーション層がデータ層に直接アクセスできる

### 具体例

```
┌─────────────────────┐      ┌─────────────────────┐
│   クライアント側      │      │     サーバー側       │
│  ┌───────────────┐  │      │  ┌───────────────┐  │
│  │ プレゼンテーション │  │ ←→  │  │   データ層     │  │
│  │ ファンクション層  │  │      │  │（データベース）  │  │
│  └───────────────┘  │      │  └───────────────┘  │
└─────────────────────┘      └─────────────────────┘
```

ユーザーが連絡先データを入力したり取得したりできる単純な連絡先管理アプリケーションは、2層アプリケーションの一例です。

## 3層アーキテクチャ（マルチティア）

### 概要

3層アーキテクチャは、アプリケーションを**3つの独立した層に分割する**設計です。現在最も広く採用されているアーキテクチャです。

### 3つの層

| 層 | 役割 | 具体例 |
|---|---|---|
| **プレゼンテーション層** | ユーザーインターフェース | Webブラウザ、モバイルアプリ |
| **ビジネスロジック層** | アプリケーションのコア機能 | Webサーバー、アプリケーションサーバー |
| **データアクセス層** | データベースや外部サービスとの通信 | データベースサーバー |

### 特徴

- 各層は独立しており、上位層は直接下位層にのみ依存する
- **プレゼンテーション層はデータ層に直接アクセスしない**（これが2層との大きな違い）
- 各層の再利用性とメンテナンス性が向上する
- 各層を別々の開発チームが同時に開発できる

### 具体例

```
┌─────────────────────┐
│  プレゼンテーション層   │  ← ユーザーとの入出力
│  （Webブラウザ等）     │
└──────────┬──────────┘
           ↓
┌─────────────────────┐
│  ビジネスロジック層    │  ← 処理・計算・判断
│（アプリケーションサーバー）│
└──────────┬──────────┘
           ↓
┌─────────────────────┐
│    データアクセス層    │  ← データの保存・取得
│  （データベースサーバー） │
└─────────────────────┘
```

## 3層アーキテクチャのメリット

1. **開発の迅速化**
   - 各層を異なるチームが同時に開発できる
   - 各層に最適な言語やツールを選択できる

2. **保守性の向上**
   - ビジネスロジックに変更があってもサーバー側だけの変更で済む
   - クライアント1台1台への適用が不要

3. **スケーラビリティ**
   - 他の層に影響を与えることなく、各層を独立してスケールできる

4. **ネットワーク負荷の軽減**
   - 処理結果をクライアントに返すだけなので、ネットワーク上を流れるデータ量が軽減できる

## まとめ

| アーキテクチャ | 特徴 | 適したケース |
|---|---|---|
| **1層** | すべての機能が単一の層に統合 | シンプルなアプリケーション、プロトタイプ |
| **2層** | クライアント層とサーバー層に分割 | 小〜中規模のアプリケーション |
| **3層** | プレゼンテーション・ビジネスロジック・データアクセス層に分割 | 中〜大規模のエンタープライズアプリケーション |

プロジェクトの要件や複雑さに応じて適切なアーキテクチャを選択することが重要です。より複雑なアプリケーションでは3層アーキテクチャが一般的に好まれますが、小規模なプロジェクトや特定の用途では1層や2層のアーキテクチャが適している場合もあります。

## 補足：LayerとTierの違い

- **Layer（レイヤー）**：ソフトウェアの機能的な区分（論理的な分離）
- **Tier（ティア）**：別のインフラストラクチャー上で実行されるソフトウェアの機能的な区分（物理的な分離）

日本語ではどちらも「層」と訳されるため混同しやすいですが、英語では区別されることがあります。

## 参考資料

- [3層アーキテクチャーとは | IBM](https://www.ibm.com/jp-ja/think/topics/three-tier-architecture)
- [多層アーキテクチャ - Wikipedia](https://ja.wikipedia.org/wiki/多層アーキテクチャ)

<!-- Updated: 2026-01-24 -->
